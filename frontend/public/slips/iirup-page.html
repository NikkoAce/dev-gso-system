<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IIRUP - Report of Unserviceable Property</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="icon" href="../LGU-DAET-LOGO.png" type="image/png">
    <link href="../css/output.css" rel="stylesheet">
    <link rel="stylesheet" href="../css/print.css" media="print">
    <!-- PDF Export Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script type="module" src="/js/auth.js" defer></script>
</head>
<body class="slip-page">
    <div class="flex h-screen">
        <aside id="sidebar-container" class="w-64 text-gray-800 flex-col h-full border-r hidden md:flex non-printable hide-in-preview">
            <!-- Sidebar is dynamically loaded -->
        </aside>
        <div class="flex-1 flex flex-col overflow-hidden">
            <header class="md:hidden bg-white text-gray-800 p-4 flex justify-between items-center shadow-md border-b non-printable hide-in-preview">
                <h1 class="text-xl font-bold">LGU GSO System</h1>
                <button id="mobile-menu-button"><i data-lucide="menu"></i></button>
            </header>
            <main class="flex-1 overflow-x-hidden overflow-y-auto p-6 md:p-10">
                <div class="flex flex-col md:flex-row justify-between items-start md:items-center gap-4 mb-6">
                    <h1 id="page-title" class="text-3xl font-bold text-gray-800 non-printable">IIRUP - Unserviceable Property</h1>
                    <div class="flex gap-2 self-end md:self-auto non-printable hide-in-preview">
                        <a id="back-button" href="../assets/asset-registry.html" class="btn btn-ghost">&larr; Back to Registry</a>
                        <div class="dropdown dropdown-end">
                            <label tabindex="0" class="btn btn-primary"><i data-lucide="settings"></i> Actions</label>
                            <ul tabindex="0" class="dropdown-content z-[1] menu p-2 shadow bg-base-100 rounded-box w-52 non-printable hide-in-preview">
                                <li><button id="preview-btn"><i data-lucide="monitor"></i> Preview</button></li>
                                <div class="divider my-1"></div>
                                <li><button id="save-button"><i data-lucide="save"></i> Save & Print</button></li>
                                <li><button id="reprint-button" class="hidden"><i data-lucide="printer"></i> Reprint</button></li>
                                <li><button id="export-pdf-btn"><i data-lucide="file-type-2"></i> Export as PDF</button></li>
                            </ul>
                        </div>
                    </div>
                </div>

                <div id="report-output" class="bg-white p-8 rounded-lg border printable-area">
                    <div id="form-container">
                        <!-- The content below is a template for JS. It will be cleared and rebuilt. -->
                        <div class="text-center mb-4">
                            <h3 class="font-bold text-lg">INVENTORY AND INSPECTION REPORT OF UNSERVICEABLE PROPERTY</h3>
                            <p class="text-sm">(IIRUP)</p>
                        </div>
                        <div class="flex justify-between items-end mt-4 text-sm">
                            <span>Entity Name: <span class="font-semibold">LGU of Daet</span></span>
                            <span>Fund Cluster: <span class="font-semibold">01</span></span>
                        </div>
                        <table class="w-full text-xs border-collapse border border-black mt-4">
                            <thead>
                                <tr class="bg-gray-100 text-center">
                                    <th rowspan="2" class="border border-black p-1">Date Acquired</th>
                                    <th rowspan="2" class="border border-black p-1">Property No.</th>
                                    <th rowspan="2" class="border border-black p-1">Description</th>
                                    <th rowspan="2" class="border border-black p-1">Qty.</th>
                                    <th rowspan="2" class="border border-black p-1">Unit Cost</th>
                                    <th rowspan="2" class="border border-black p-1">Total Cost</th>
                                    <th colspan="2" class="border border-black p-1">Accumulated</th>
                                    <th rowspan="2" class="border border-black p-1">Book Value</th>
                                    <th rowspan="2" class="border border-black p-1">Remarks</th>
                                </tr>
                                <tr class="bg-gray-100 text-center">
                                    <th class="border border-black p-1">Depreciation</th>
                                    <th class="border border-black p-1">Impairment</th>
                                </tr>
                            </thead>
                            <tbody id="asset-list">
                                <!-- Assets will be populated by JS -->
                            </tbody>
                            <tfoot>
                                <tr class="font-bold">
                                    <td colspan="5" class="border border-black p-1 text-center">TOTAL</td>
                                    <td id="grand-total-cost" class="border border-black p-1 text-right"></td>
                                    <td colspan="3" class="border border-black p-1"></td>
                                    <td class="border border-black p-1"></td>
                                </tr>
                            </tfoot>
                        </table>
                        <div id="iirup-footer-content">
                            <footer class="mt-8 text-xs">
                                <div class="grid grid-cols-2 gap-8">
                                    <!-- Left Side: Inspection -->
                                    <div class="border-r pr-4">
                                        <p class="font-bold text-center">INSPECTION</p>
                                        <p class="mt-4">I hereby certify that I have inspected the property/ies enumerated above and that the recommendation for disposal is proper.</p>
                                        <div class="mt-16 text-center">
                                            <p class="font-bold uppercase border-t border-black pt-1">________________________</p>
                                            <p>Inspection Officer</p>
                                        </div>
                                    </div>
                                    <!-- Right Side: Disposal -->
                                    <div class="pl-4">
                                        <p class="font-bold text-center">DISPOSAL</p>
                                        <p class="mt-4">I hereby certify that the property/ies enumerated above was/were disposed of as follows:</p>
                                        <div class="mt-8 space-y-2">
                                            <div><input type="checkbox" class="mr-2"> Destroyed</div>
                                            <div><input type="checkbox" class="mr-2"> Sold at Private Sale</div>
                                            <div><input type="checkbox" class="mr-2"> Sold at Public Auction</div>
                                            <div><input type="checkbox" class="mr-2"> Transferred to _________________</div>
                                        </div>
                                        <div class="mt-8 text-center">
                                            <p class="font-bold uppercase border-t border-black pt-1" id="signatory-1-name"></p>
                                            <p>Property and Supply Officer</p>
                                        </div>
                                    </div>
                                </div>
                            </footer>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>
    <button id="exit-preview-btn" class="btn btn-error hidden non-printable"><i data-lucide="x"></i> Exit Preview</button>
    <script src="../js/layout.js"></script>
    <script type="module" src="./iirup-page.js"></script>
</body>
</html>